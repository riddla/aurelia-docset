<style>
    /*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  color: #333;
  background: #f8f8f8;
}

.hljs-comment,
.hljs-quote {
  color: #998;
  font-style: italic;
}

.hljs-keyword,
.hljs-selector-tag,
.hljs-subst {
  color: #333;
  font-weight: bold;
}

.hljs-number,
.hljs-literal,
.hljs-variable,
.hljs-template-variable,
.hljs-tag .hljs-attr {
  color: #008080;
}

.hljs-string,
.hljs-doctag {
  color: #d14;
}

.hljs-title,
.hljs-section,
.hljs-selector-id {
  color: #900;
  font-weight: bold;
}

.hljs-subst {
  font-weight: normal;
}

.hljs-type,
.hljs-class .hljs-title {
  color: #458;
  font-weight: bold;
}

.hljs-tag,
.hljs-name,
.hljs-attribute {
  color: #000080;
  font-weight: normal;
}

.hljs-regexp,
.hljs-link {
  color: #009926;
}

.hljs-symbol,
.hljs-bullet {
  color: #990073;
}

.hljs-built_in,
.hljs-builtin-name {
  color: #0086b3;
}

.hljs-meta {
  color: #999;
  font-weight: bold;
}

.hljs-deletion {
  background: #fdd;
}

.hljs-addition {
  background: #dfd;
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}

a.au-button,au-dropdown>a,au-offscreen button,au-offscreen offscreen-host>button,au-settings-button button-container button,button.au-button{outline:0;vertical-align:middle;-webkit-tap-highlight-color:transparent;-webkit-font-smoothing:antialiased;text-align:center}html{box-sizing:border-box}*,::after,::before{box-sizing:inherit}[comment],[font=code],au-card span,au-card[variable-card] blockquote h2,au-doc-section a:not(.au-button),function-heading,ul.stack-list[source-code] li a{font-family:'Source Code Pro'}[font=sans],au-alert{font-family:'Source Sans Pro',sans-serif}au-card[title-card] header:after,au-settings-button content-container>au-select-list au-select-item select-container div.select-option:after,au-settings-button content-container>au-select-list au-select-item select-item:after{left:0;width:100%;bottom:0}.preview-content,[class-aucon],[constant-aucon],[function-aucon],[interface-aucon],au-alert,au-alert .alertIcon,au-alert .alertIcon>i,au-card,au-card[title-card] span.card-control,au-doc-section,au-dropdown,au-dropdown dropdown-container,au-dropdown dropdown-container option-item,au-dropdown>a,au-offscreen,au-offscreen offscreen-container,au-offscreen offscreen-container offscreen-host,au-select-list,au-select-list au-select-item,au-select-list au-select-item select-container,au-select-list au-select-item select-container div.select-option,au-select-list au-select-item select-item,au-settings-button,au-settings-button content-container,au-settings-button content-wrap,function-heading,function-heading [fn-name],function-heading [fn-params],function-heading [fn-params] [param],function-heading [fn-type],ul.grid-list,ul.inline-list,ul[list-style] li{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex}ul.inline-list li{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-ms-inline-flexbox;display:inline-flex}au-card,au-dropdown dropdown-container,au-select-list,au-settings-button content-container,au-settings-button content-wrap{-webkit-box-direction:normal;-webkit-box-orient:vertical;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column}au-select-list au-select-item{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-webkit-flex-direction:row;-moz-flex-direction:row;-ms-flex-direction:row;flex-direction:row}a.au-button,au-offscreen button,au-offscreen offscreen-host>button,button.au-button{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;cursor:pointer;white-space:nowrap;-ms-touch-action:manipulation;touch-action:manipulation;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;box-shadow:0 0 0 transparent;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-moz-align-items:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;-moz-justify-content:center;justify-content:center}au-dropdown dropdown-container,au-offscreen au-indicator,au-offscreen button,au-offscreen offscreen-host au-indicator,au-offscreen offscreen-host>button span{box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12)}au-doc-section img,au-offscreen.is-active offscreen-host{box-shadow:0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12),0 5px 5px -3px rgba(0,0,0,.2)}.profile-selector{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex}@media (max-width:47em){.profile-selector{display:none}}au-select-list{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transform-origin:center;transform-origin:center;min-width:100%;max-width:100%}au-select-list.active-item{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}au-select-list au-select-item{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;line-height:3em}au-select-list au-select-item select-container{-webkit-box-direction:normal;-webkit-box-orient:vertical;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);background:#EC2685;min-width:100%;overflow:auto;position:absolute;line-height:inherit;right:0;-webkit-animation-timing-function:cubic-bezier(0,1.28,0,1);animation-timing-function:cubic-bezier(0,1.28,0,1);-webkit-animation-duration:.4s;animation-duration:.4s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}au-card,au-card>*{background-color:#fff}au-select-list au-select-item select-container div.select-option{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;cursor:pointer;line-height:inherit;padding-left:16px}au-select-list au-select-item select-container div.select-option .au-icon{position:absolute;right:0;top:0;z-index:1}au-select-list au-select-item:not(:first-child) select-container{top:0}au-select-list au-select-item select-item{-webkit-box-flex:1;-webkit-flex:1 0;-moz-flex:1 0;-ms-flex:1 0;flex:1 0;position:relative;cursor:pointer;line-height:inherit;padding-left:16px}au-select-list au-select-item select-item span{text-align:right;padding-right:16px;-webkit-box-flex:1;-webkit-flex:1;-moz-flex:1;-ms-flex:1;flex:1}au-select-list au-select-item select-item .ai-icon[caret]{-webkit-box-flex:0;-webkit-flex:0 1 auto;-moz-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;line-height:inherit;padding-right:16px;color:theme-light(icon)}au-select-list au-select-item select-item .ai-icon[caret] i{line-height:inherit;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}au-select-list select{visibility:hidden;height:0;width:0}@media (min-width:0){au-select-list au-select-item select-item{padding-left:16px}au-select-list au-select-item select-item .ai-icon[caret],au-select-list au-select-item select-item span{padding-right:16px}}au-card[title-card] h1{color:#70519E;position:relative;text-align:center;font-weight:400;font-size:2rem;line-height:1.5;margin:16px 0}au-card{-webkit-box-flex:1;-webkit-flex:1 0 auto;-moz-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;position:relative;border:1px solid #dadada;border-radius:4px;overflow:hidden;max-height:100%;margin-bottom:1em}au-card [description]{font-weight:400;font-size:1em;line-height:1.2}au-card div[description],au-card span[description]{opacity:.5}au-card [author]{font-size:18px;font-weight:400;color:#EC2685;text-align:center}au-card h1,au-card h2,au-card h3,au-card h4,au-card h5,au-card h6{margin:0 0 16px}@media (min-width:48em){au-select-list au-select-item select-item{padding-left:24px}au-select-list au-select-item select-item .ai-icon[caret],au-select-list au-select-item select-item span{padding-right:24px}au-card h1,au-card h2,au-card h3,au-card h4,au-card h5,au-card h6{margin-bottom:24px}}au-card>article>blockquote,au-card>blockquote{position:relative;background-color:#fff;padding-top:16px;padding-bottom:16px;margin:0 16px}@media (min-width:48em){au-card>article>blockquote,au-card>blockquote{padding-top:24px;padding-bottom:24px;margin-left:24px;margin-right:24px}}au-card>article>blockquote h3,au-card>article>blockquote>h2,au-card>blockquote h3,au-card>blockquote>h2{font-size:24px;font-weight:700;margin:0;padding-bottom:8px;-webkit-box-flex:1;-webkit-flex:1 0 auto;-moz-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto}au-card article:first-child{padding:16px}au-card article:not(:first-child){padding-bottom:16px;padding-left:16px;padding-right:16px}@media (min-width:48em){au-card article:first-child{padding:24px}au-card article:not(:first-child){padding-bottom:24px;padding-left:24px;padding-right:24px}}au-card article>blockquote{margin:0 0 8px;padding-bottom:16px}@media (min-width:48em){au-card article>blockquote{padding-bottom:24px}}au-card ul.inline-list{padding:0}au-card li{margin-bottom:8px}au-card p{margin:0}au-card span[value-type]{color:#70519E;opacity:.7}function-heading{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;color:#EC2685;font-weight:700;width:auto;position:relative;-webkit-box-flex:1;-webkit-flex:1 0 auto;-moz-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto}function-heading [fn-name]{-webkit-box-ordinal-group:1;-webkit-order:0;-moz-order:0;-ms-flex-order:0;order:0;-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-box-align:start;-ms-flex-align:start;-webkit-align-items:flex-start;-moz-align-items:flex-start;align-items:flex-start}function-heading [fn-name] [name].constructor:before{content:"new ";display:inline-block;color:#70519E;margin-right:8px}function-heading [fn-type]{-webkit-box-ordinal-group:4;-webkit-order:3;-moz-order:3;-ms-flex-order:3;order:3;-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-box-align:start;-ms-flex-align:start;-webkit-align-items:flex-start;-moz-align-items:flex-start;align-items:flex-start}function-heading [fn-type] [type]{color:#70519E;opacity:.6}function-heading [fn-params]{-webkit-box-ordinal-group:3;-webkit-order:2;-moz-order:2;-ms-flex-order:2;order:2;-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-box-align:start;-ms-flex-align:start;-webkit-align-items:flex-start;-moz-align-items:flex-start;align-items:flex-start;-webkit-box-direction:normal;-webkit-box-orient:vertical;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column}function-heading [fn-params] [param]{color:#70519E;-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-flex-wrap:nowrap;-ms-flex-wrap:none;flex-wrap:nowrap}function-heading [fn-params] [param] [type]{opacity:.6}function-heading [fn-params] [param] [key]{margin-right:.5em}function-heading [fn-params] [param] [key]:after{content:": ";display:inline-block}function-heading [fn-params] [param]:not(:last-child){margin-right:8px}function-heading [fn-params] [param]:not(:last-child):after{content:",";display:inline-block}function-heading[size=lg] [fn-name],function-heading[size=lg] [fn-type],function-heading[size=md] [fn-name],function-heading[size=md] [fn-type],function-heading[size=xl] [fn-name],function-heading[size=xl] [fn-type]{-webkit-box-flex:0;-webkit-flex:0 0 100%;-moz-flex:0 0 100%;-ms-flex:0 0 100%;flex:0 0 100%}function-heading[size=lg] [fn-params],function-heading[size=md] [fn-params],function-heading[size=xl] [fn-params]{margin-left:24px}function-heading[size=lg] [fn-params] [param],function-heading[size=md] [fn-params] [param],function-heading[size=xl] [fn-params] [param]{line-height:24px}function-heading[size=lg] [fn-params] [param]:first-child,function-heading[size=md] [fn-params] [param]:first-child,function-heading[size=xl] [fn-params] [param]:first-child{padding-top:4px}function-heading[size=lg] [fn-params] [param]:last-child,function-heading[size=md] [fn-params] [param]:last-child,function-heading[size=xl] [fn-params] [param]:last-child{padding-bottom:4px}@media (min-width:62em){function-heading[size=md] [fn-name],function-heading[size=md] [fn-type]{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto}function-heading[size=md] [fn-params]{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-webkit-flex-direction:row;-moz-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-left:0}function-heading[size=md] [fn-params] [param]{line-height:inherit}function-heading[size=md] [fn-params] [param]:first-child{padding-top:0}function-heading[size=md] [fn-params] [param]:last-child{padding-bottom:0}}@media (min-width:75em){function-heading[size=lg] [fn-name],function-heading[size=lg] [fn-type]{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto}function-heading[size=lg] [fn-params]{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-webkit-flex-direction:row;-moz-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-left:0}function-heading[size=lg] [fn-params] [param]{line-height:inherit}function-heading[size=lg] [fn-params] [param]:first-child{padding-top:0}function-heading[size=lg] [fn-params] [param]:last-child{padding-bottom:0}}@media (min-width:86em){function-heading[size=xl] [fn-name],function-heading[size=xl] [fn-type]{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto}function-heading[size=xl] [fn-params]{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-webkit-flex-direction:row;-moz-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-left:0}function-heading[size=xl] [fn-params] [param]{line-height:inherit}function-heading[size=xl] [fn-params] [param]:first-child{padding-top:0}function-heading[size=xl] [fn-params] [param]:last-child{padding-bottom:0}}.preview-content,au-alert,au-doc-section,au-dropdown,html.browser-safari section.au-card.title-card header{-webkit-box-orient:vertical;-webkit-box-direction:normal}au-card[title-card] header{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;background-color:#f7f7f7;min-height:4em;position:relative}au-card[title-card] header:after{content:" ";background:#eee;position:absolute;height:1px;max-height:1px}au-card[title-card] h1{-webkit-box-flex:1;-webkit-flex:1 0 auto;-moz-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;padding-left:.5em}au-card[title-card] span.card-control{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-moz-align-items:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;-moz-justify-content:center;justify-content:center;position:relative;padding:0 1em 1em}@media (min-width:48em){au-card[title-card] span.card-control{top:0;right:0;min-height:100%;padding-bottom:0;position:absolute}}au-card[title-card] .au-button{margin-bottom:1em}au-card[function-card] blockquote h2,au-card[variable-card] blockquote h2{color:#EC2685;font-weight:700;line-height:1;font-size:16px}au-card[variable-card] blockquote h2 span[value-type]{color:#777}au-card[function-card] .au-tag{margin-right:.5em}html.browser-safari section.au-card.title-card header{-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column}html.browser-safari section.au-card.title-card header span.card-control{position:relative;min-width:100%}section.au-card+h1{padding-top:0;padding-bottom:0;margin:.5em 0}@media (min-width:48em){section.au-card{margin-bottom:1.5em;border-radius:4px}section.au-card header{padding:0 1.5em}section.au-card header span.card-control{right:0;top:0;position:absolute;min-width:0;padding:0 1em}section.au-card blockquote{padding:1.5em 1.5em 0}section.au-card article{padding-top:8px;padding-bottom:1.5em}section.au-card article:not([gutter]){padding-left:1.5em;padding-right:1.5em}section.au-card article>:not(:last-child),section.au-card+h1{margin-bottom:.75em}body{margin:0}}@media (min-width:0){body{margin:0}}@media (min-width:34em){body{margin:0}}@media (min-width:62em){body{margin:0}}@media (min-width:75em){body{margin:0}}@media (min-width:86em){body{margin:0}}au-offscreen{z-index:4}au-offscreen au-indicator{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transform-origin:center;transform-origin:center;-webkit-transform:translateY(24px);transform:translateY(24px);position:absolute;left:0;top:0;height:20px;width:12px;margin:5px 12px 12px;z-index:1;background-color:#EC2685;border-radius:4px}@media (max-width:47em){au-offscreen offscreen-container,au-offscreen offscreen-container offscreen-host{-webkit-box-direction:normal;-webkit-box-orient:vertical;overflow-x:hidden!important;overflow-y:hidden!important;overflow:hidden!important;height:100%}au-offscreen{-webkit-box-direction:normal;-webkit-box-orient:vertical;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transform-origin:center;transform-origin:center;-webkit-transform:translate3d(0,-22px,0);transform:translate3d(0,-22px,0);position:fixed;left:0;right:0;bottom:0;top:100%;height:33.3333%}au-offscreen.hide-button{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}au-offscreen offscreen-container{-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transform-origin:center;transform-origin:center;top:0;width:100%;position:relative;color:#fff}au-offscreen offscreen-container offscreen-host{-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative}.browser-firefox au-offscreen offscreen-container offscreen-host ul,.browser-ie au-offscreen offscreen-container offscreen-host ul,.platform-android au-offscreen offscreen-container offscreen-host ul,au-offscreen offscreen-container offscreen-host ul{overflow-x:hidden;overflow-y:scroll}au-offscreen offscreen-container offscreen-host ul{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-font-smoothing:antialiased;-ms-touch-action:auto;touch-action:auto;position:relative;height:100%;background-color:#70519E;list-style:none;padding-left:32px;margin:0;padding-top:24px;padding-bottom:32px}.platform-ios au-offscreen offscreen-container offscreen-host ul{overflow-x:hidden;overflow-y:scroll;-webkit-overflow-scrolling:touch;-ms-overflow-style:none}au-offscreen offscreen-container offscreen-host ul li{cursor:pointer;padding-bottom:.5rem;line-height:2;position:relative}au-offscreen offscreen-container offscreen-host ul li>span{display:block;position:relative;padding-bottom:8px;white-space:nowrap;max-width:90%;overflow:hidden;text-overflow:ellipsis}au-offscreen button{-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;-moz-justify-content:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-moz-align-items:center;align-items:center;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);background:0 0;border:none;color:#FFF;position:fixed;height:26px;top:0;left:0;right:0;padding:0;cursor:pointer}au-offscreen button span{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;width:26px;height:inherit;border-top-left-radius:4px;border-top-right-radius:4px;background-color:#70519E;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;-moz-justify-content:center;justify-content:center;-webkit-box-align:start;-ms-flex-align:start;-webkit-align-items:flex-start;-moz-align-items:flex-start;align-items:flex-start}au-offscreen button au-icon.au-icon{height:auto;width:auto;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;-moz-justify-content:center;justify-content:center}au-offscreen .table-of-contents{display:none}au-offscreen.is-active{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}@media (min-width:48em){au-offscreen,au-offscreen offscreen-host>button{-webkit-box-direction:normal;-webkit-box-orient:vertical}au-offscreen{display:flex;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;-moz-justify-content:center;justify-content:center;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transform-origin:center;transform-origin:center;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);max-width:300px;position:absolute;min-width:300px;right:0;top:0;bottom:0;z-index:200}au-offscreen.hide-button{-webkit-transform:translate3d(110%,0,0);transform:translate3d(110%,0,0)}au-offscreen offscreen-container{display:flex;position:relative;min-height:100%;width:auto;padding:0}au-offscreen offscreen-container>.table-of-contents{-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transform-origin:center;transform-origin:center;display:flex;position:absolute;cursor:pointer;top:85px;left:0;height:32px;width:150px;color:rgba(0,0,0,.54);-webkit-transform:translate3d(-54%,0,0) rotate(-90deg);transform:translate3d(-54%,0,0) rotate(-90deg)}au-offscreen offscreen-host{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;min-height:100%;position:relative;background-color:#70519E;border-bottom-left-radius:4px;width:100%;color:#FFF;padding:0}au-offscreen offscreen-host>ul{width:inherit;list-style:none;margin-left:32px;padding:10px 10px 0 0}au-offscreen offscreen-host>ul li{cursor:pointer;line-height:2.2;position:relative}au-offscreen offscreen-host>ul li>span{display:block;position:relative;padding-bottom:8px;white-space:nowrap;max-width:90%;overflow:hidden;text-overflow:ellipsis}au-offscreen offscreen-host au-indicator,au-offscreen offscreen-host>button{position:absolute;top:0;left:0}au-offscreen offscreen-host au-indicator{display:flex;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transform-origin:center;transform-origin:center;-webkit-transform:translateY(16px);transform:translateY(16px);height:24px;width:12px;margin:2px 12px 10px;background-color:#EC2685;border-radius:4px}au-offscreen offscreen-host>button{display:flex;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;justify-content:flex-start;-webkit-transform:translate3d(-90%,0,0);transform:translate3d(-90%,0,0);background:0 0;height:100%;width:24px;padding:0;line-height:1;border:none;color:#FFF;cursor:pointer}au-offscreen offscreen-host>button span{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-moz-align-items:center;align-items:center;height:24px;width:inherit;padding:0 0 0 4px;background-color:#70519E;border-top-left-radius:4px;border-bottom-left-radius:4px}au-offscreen offscreen-host>button au-icon.au-icon{height:auto;width:auto;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;justify-content:flex-start}au-offscreen.is-active{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}au-offscreen.is-active .table-of-contents{opacity:0}}au-doc-section hr:after,au-doc-section hr:before{display:table;content:""}au-doc-section h1,au-doc-section h2{padding-bottom:.3em;border-bottom:1px solid #eee}au-overlay-container{display:block;min-height:100vh;min-width:100vw;position:absolute;top:0;left:0}au-overlay-container au-overlay{background-color:rgba(0,0,0,.5);display:block;top:0;bottom:0;left:0;right:0;position:absolute;z-index:1;-webkit-transform-origin:center;transform-origin:center;-webkit-transform:scale(1);transform:scale(1);-webkit-animation:scale-from-small-to-large .3s;animation:scale-from-small-to-large .3s}au-overlay-container au-overlay.au-leave{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:scale-from-large-to-small .3s;animation:scale-from-large-to-small .3s}@-webkit-keyframes scale-from-small-to-large{from{opacity:0}to{opacity:1}}@keyframes scale-from-small-to-large{from{opacity:0}to{opacity:1}}@-webkit-keyframes scale-from-large-to-small{from{opacity:1}to{opacity:0}}@keyframes scale-from-large-to-small{from{opacity:1}to{opacity:0}}@font-face{font-family:octicons-anchor;src:url('data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAYcAA0AAAAACjQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAABMAAAABwAAAAca8vGTk9TLzIAAAFMAAAARAAAAFZG1VHVY21hcAAAAZAAAAA+AAABQgAP9AdjdnQgAAAB0AAAAAQAAAAEACICiGdhc3AAAAHUAAAACAAAAAj//wADZ2x5ZgAAAdwAAADRAAABEKyikaNoZWFkAAACsAAAAC0AAAA2AtXoA2hoZWEAAALgAAAAHAAAACQHngNFaG10eAAAAvwAAAAQAAAAEAwAACJsb2NhAAADDAAAAAoAAAAKALIAVG1heHAAAAMYAAAAHwAAACABEAB2bmFtZQAAAzgAAALBAAAFu3I9x/Nwb3N0AAAF/AAAAB0AAAAvaoFvbwAAAAEAAAAAzBdyYwAAAADP2IQvAAAAAM/bz7t4nGNgZGFgnMDAysDB1Ml0hoGBoR9CM75mMGLkYGBgYmBlZsAKAtJcUxgcPsR8iGF2+O/AEMPsznAYKMwIkgMA5REMOXicY2BgYGaAYBkGRgYQsAHyGMF8FgYFIM0ChED+h5j//yEk/3KoSgZGNgYYk4GRCUgwMaACRoZhDwCs7QgGAAAAIgKIAAAAAf//AAJ4nHWMMQrCQBBF/0zWrCCIKUQsTDCL2EXMohYGSSmorScInsRGL2DOYJe0Ntp7BK+gJ1BxF1stZvjz/v8DRghQzEc4kIgKwiAppcA9LtzKLSkdNhKFY3HF4lK69ExKslx7Xa+vPRVS43G98vG1DnkDMIBUgFN0MDXflU8tbaZOUkXUH0+U27RoRpOIyCKjbMCVejwypzJJG4jIwb43rfl6wbwanocrJm9XFYfskuVC5K/TPyczNU7b84CXcbxks1Un6H6tLH9vf2LRnn8Ax7A5WQAAAHicY2BkYGAA4teL1+yI57f5ysDNwgAC529f0kOmWRiYVgEpDgYmEA8AUzEKsQAAAHicY2BkYGB2+O/AEMPCAAJAkpEBFbAAADgKAe0EAAAiAAAAAAQAAAAEAAAAAAAAKgAqACoAiAAAeJxjYGRgYGBhsGFgYgABEMkFhAwM/xn0QAIAD6YBhwB4nI1Ty07cMBS9QwKlQapQW3VXySvEqDCZGbGaHULiIQ1FKgjWMxknMfLEke2A+IJu+wntrt/QbVf9gG75jK577Lg8K1qQPCfnnnt8fX1NRC/pmjrk/zprC+8D7tBy9DHgBXoWfQ44Av8t4Bj4Z8CLtBL9CniJluPXASf0Lm4CXqFX8Q84dOLnMB17N4c7tBo1AS/Qi+hTwBH4rwHHwN8DXqQ30XXAS7QaLwSc0Gn8NuAVWou/gFmnjLrEaEh9GmDdDGgL3B4JsrRPDU2hTOiMSuJUIdKQQayiAth69r6akSSFqIJuA19TrzCIaY8sIoxyrNIrL//pw7A2iMygkX5vDj+G+kuoLdX4GlGK/8Lnlz6/h9MpmoO9rafrz7ILXEHHaAx95s9lsI7AHNMBWEZHULnfAXwG9/ZqdzLI08iuwRloXE8kfhXYAvE23+23DU3t626rbs8/8adv+9DWknsHp3E17oCf+Z48rvEQNZ78paYM38qfk3v/u3l3u3GXN2Dmvmvpf1Srwk3pB/VSsp512bA/GG5i2WJ7wu430yQ5K3nFGiOqgtmSB5pJVSizwaacmUZzZhXLlZTq8qGGFY2YcSkqbth6aW1tRmlaCFs2016m5qn36SbJrqosG4uMV4aP2PHBmB3tjtmgN2izkGQyLWprekbIntJFing32a5rKWCN/SdSoga45EJykyQ7asZvHQ8PTm6cslIpwyeyjbVltNikc2HTR7YKh9LBl9DADC0U/jLcBZDKrMhUBfQBvXRzLtFtjU9eNHKin0x5InTqb8lNpfKv1s1xHzTXRqgKzek/mb7nB8RZTCDhGEX3kK/8Q75AmUM/eLkfA+0Hi908Kx4eNsMgudg5GLdRD7a84npi+YxNr5i5KIbW5izXas7cHXIMAau1OueZhfj+cOcP3P8MNIWLyYOBuxL6DRylJ4cAAAB4nGNgYoAALjDJyIAOWMCiTIxMLDmZedkABtIBygAAAA==') format("woff")}au-doc-section{-webkit-box-flex:1;-webkit-flex:1;-moz-flex:1;-ms-flex:1;flex:1;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;color:#333;font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;word-wrap:break-word}au-doc-section ol,au-doc-section ul{padding:0 0 0 2em}au-doc-section ol ol,au-doc-section ul ol{list-style-type:lower-roman}au-doc-section ol ol ol,au-doc-section ol ul ol,au-doc-section ul ol ol,au-doc-section ul ul ol{list-style-type:lower-alpha}au-doc-section dd{margin-left:0}au-doc-section h1,au-doc-section h2,au-doc-section h3,au-doc-section h4,au-doc-section h5,au-doc-section h6{margin-top:1em;margin-bottom:16px;font-weight:700;line-height:1.4}au-doc-section h1:hover,au-doc-section h2:hover,au-doc-section h3:hover,au-doc-section h4:hover,au-doc-section h5:hover,au-doc-section h6:hover{text-decoration:none}au-doc-section blockquote{margin:0}au-doc-section h1{font-size:2.25em;line-height:1.2}au-doc-section h1 .anchor{line-height:1}au-doc-section h2{font-size:1.75em;line-height:1.225}au-doc-section h2 .anchor{line-height:1}au-doc-section h3{font-size:1.5em;line-height:1.43}au-doc-section h3 .anchor,au-doc-section h4 .anchor{line-height:1.2}au-doc-section h4{font-size:1.25em}au-doc-section h5 .anchor,au-doc-section h6 .anchor{line-height:1.1}au-doc-section h5{font-size:1em}au-doc-section h6{font-size:1em;color:#777}au-doc-section a{background-color:transparent;color:#4078c0;text-decoration:none}au-doc-section a:active,au-doc-section a:hover{outline:0;text-decoration:underline}au-doc-section strong{font-weight:700}au-doc-section hr{box-sizing:content-box}au-doc-section code,au-doc-section kbd,au-doc-section pre{font-family:monospace,monospace;font-size:1em}au-doc-section input{color:inherit;margin:0;line-height:normal;font:13px/1.4 Helvetica,arial,nimbussansl,liberationsans,freesans,clean,sans-serif,"Segoe UI Emoji","Segoe UI Symbol"}au-doc-section html input[disabled]{cursor:default}au-doc-section input[type=checkbox]{box-sizing:border-box;padding:0}au-doc-section td,au-doc-section th{padding:0}au-doc-section hr:after{clear:both}au-doc-section code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace}au-doc-section pre{font:12px Consolas,"Liberation Mono",Menlo,Courier,monospace;word-wrap:normal}au-doc-section table th,code-listing .token.bold,code-listing .token.important{font-weight:700}au-alert,code-listing .token.italic{font-style:italic}au-doc-section>:first-child{margin-top:0!important}au-doc-section>:last-child:not(au-alert){margin-bottom:0!important}au-doc-section a:not([href]){color:inherit;text-decoration:none}au-doc-section .anchor{display:inline-block;padding-right:2px;margin-left:-18px}au-doc-section .anchor:focus{outline:0}au-doc-section blockquote,au-doc-section dl,au-doc-section ol,au-doc-section p,au-doc-section pre,au-doc-section table,au-doc-section ul{margin-top:0;margin-bottom:16px}au-doc-section hr{overflow:hidden;background:#e7e7e7;height:4px;padding:0;margin:16px 0;border:0}au-doc-section ol ol,au-doc-section ol ul,au-doc-section ul ol,au-doc-section ul ul{margin-top:0;margin-bottom:0}au-doc-section li>p{margin-top:16px}au-doc-section dl{padding:0}au-doc-section dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}au-doc-section dl dd{padding:0 16px;margin-bottom:16px}au-doc-section blockquote{padding:0 15px;color:#777;border-left:4px solid #ddd}au-doc-section blockquote>:first-child{margin-top:0}au-doc-section blockquote>:last-child{margin-bottom:0}au-doc-section table{border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}au-doc-section table td,au-doc-section table th{padding:6px 13px;border:1px solid #ddd}au-doc-section table tr{background-color:#fff;border-top:1px solid #ccc}au-doc-section table tr:nth-child(2n){background-color:#f8f8f8}au-doc-section img{border:0;max-width:100%;box-sizing:content-box;background-color:#fff;border-radius:6px;overflow:hidden;display:block;margin:0 auto}au-doc-section code{padding:.2em 0;margin:0;font-size:85%;background-color:rgba(0,0,0,.04);border-radius:3px;color:#0086b3}au-doc-section code:after,au-doc-section code:before{letter-spacing:-.2em;content:"\00a0"}au-doc-section pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:0 0;border:0}au-doc-section .highlight{margin-bottom:16px}au-doc-section .highlight pre,au-doc-section pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f7f7f7;border-radius:3px}au-doc-section .highlight pre{margin-bottom:0;word-break:normal}au-doc-section pre code{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}au-alert:last-child,au-preview au-doc-section>:last-child:not(code-listing){margin-bottom:16px}au-doc-section pre code:after,au-doc-section pre code:before{content:normal}au-doc-section input[type=text],au-doc-section label{display:block}au-doc-section form.inline fieldset,au-doc-section form.inline input,au-doc-section form.inline label{display:inline}.preview-content{-webkit-box-flex:1;-webkit-flex:1;-moz-flex:1;-ms-flex:1;flex:1;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column}au-doc-section:not(:first-child){margin-top:24px}au-doc-section a:not(.au-button){color:#EC2685;text-decoration:underline!important}au-doc-section button a{font-family:inherit;text-decoration:none!important}au-preview au-doc-section{background-color:#fff;border:1px solid #dadada;border-radius:4px;margin-bottom:16px;padding:16px}au-preview au-doc-section>:first-child:not(code-listing){margin-top:16px}au-preview au-doc-section pre[class*=language-]{margin:0 -16px;padding:30px 1em 8px}code-listing{display:block;position:relative;margin-bottom:1rem}code-listing>h4{margin-bottom:0;padding-bottom:16px}code-listing pre{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}code-listing .lang-tag{background-color:#EC2685;color:#fff;border-color:#fff;display:block;position:absolute;margin:8px;top:0;right:0;z-index:12;box-shadow:0 1px 1px 0 #dadada;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}code-listing h4+.lang-tag{-webkit-transform:translate3d(0,62px,0);transform:translate3d(0,62px,0)}code-listing code[class*=language-],code-listing pre[class*=language-]{color:#333}code-listing :not(pre)>code[class*=language-],code-listing pre[class*=language-]{background:#f7f7f7}code-listing .token.cdata,code-listing .token.comment,code-listing .token.doctype,code-listing .token.prolog{color:#708090}code-listing .token.punctuation{color:#333}code-listing .token.attr-value,code-listing .token.boolean,code-listing .token.constant,code-listing .token.deleted,code-listing .token.number,code-listing .token.property,code-listing .token.symbol{color:#0086b3}code-listing .token.attr-name,code-listing .token.builtin,code-listing .token.char,code-listing .token.inserted,code-listing .token.selector,code-listing .token.string{color:#183691}code-listing .language-css .token.string,code-listing .style .token.string,code-listing .token.entity,code-listing .token.operator,code-listing .token.url{color:#a71d5d;background:rgba(255,255,255,.5)}code-listing .token.atrule,code-listing .token.keyword,code-listing .token.tag{color:#a71d5d}code-listing .token.function{color:#0086b3}code-listing .token.important,code-listing .token.regex,code-listing .token.variable{color:#e90}code-listing .token.entity{cursor:help}au-menu-indicator{-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:.1s;transition-duration:.1s;-webkit-transform-origin:center;transform-origin:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:absolute;top:0;height:48px;width:100%;padding-left:8px;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-moz-align-items:center;align-items:center;-webkit-transform:translate(0,48px);transform:translate(0,48px)}au-menu-indicator:before{content:" ";display:block;width:10px;height:20px;border-radius:2px;background-color:#fff}au-menu-container,au-menu.au-menu{-webkit-box-flex:1;-webkit-flex:1 0 auto;-moz-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;position:relative;height:auto;min-width:100%;list-style:none}au-menu-container li,au-menu.au-menu li{position:relative;max-height:48px;min-height:48px;line-height:48px;color:#fff;font-size:16px;font-weight:300;width:100%;padding:0;margin:0}au-menu-container a,au-menu.au-menu a{position:relative;display:block;padding-left:28px;max-width:90%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}au-menu-container li.profile-selector,au-menu.au-menu li.profile-selector{padding-left:1em;border-bottom:1px solid #CAC3C3;background-color:#E6E6E6;color:gray}au-menu-container li.profile-selector select,au-menu.au-menu li.profile-selector select{border:none;background-color:transparent;font-weight:700;outline:0}au-menu-container li.profile-selector select:-moz-focusring,au-menu.au-menu li.profile-selector select:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}au-menu-container li.active,au-menu.au-menu li.active{color:#fff}@media (min-width:48em){au-menu-indicator:before{background-color:#EC2685}.au-menu,au-menu-container{-webkit-box-flex:1;-webkit-flex:1 0 auto;-moz-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto}.au-menu li a,au-menu-container li a{color:#70519E}.au-menu li.profile-selector,au-menu-container li.profile-selector{padding-left:1em;border-bottom:1px solid #CAC3C3;color:gray}.au-menu li.profile-selector select,au-menu-container li.profile-selector select{border:none;background-color:transparent;font-weight:700;outline:0}.au-menu li.profile-selector select:-moz-focusring,au-menu-container li.profile-selector select:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.au-aside>.au-menu li.profile-selector,.au-aside>au-menu-container li.profile-selector{padding-left:1.5em}}au-dropdown{-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;line-height:inherit;position:relative;margin:0 16px}au-dropdown>a{max-width:160px;line-height:1;padding:.6em 1rem;background-color:#fff;border-radius:5px;border:1px solid rgba(0,0,0,.12);min-width:120px;font-size:14px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;cursor:pointer;white-space:nowrap;-ms-touch-action:manipulation;touch-action:manipulation;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;box-shadow:0 0 0 transparent;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-moz-align-items:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;-moz-justify-content:center;justify-content:center}au-dropdown dropdown-container,au-dropdown dropdown-container option-item{-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:.2s;overflow:hidden;min-width:inherit}au-alert.danger+au-alert.danger .alertIcon,au-alert.info+au-alert.info .alertIcon,au-alert.warning+au-alert.warning .alertIcon,au-dropdown>option{display:none}au-dropdown dropdown-container option-item:hover{background-color:rgba(0,0,0,.2)}au-dropdown:not([open-right]) dropdown-container,au-dropdown[open-left] dropdown-container{right:0}au-dropdown:not([open-right]) dropdown-container option-item,au-dropdown[open-left] dropdown-container option-item{-webkit-transform:translateX(100%);transform:translateX(100%)}au-dropdown[open-right] dropdown-container{left:0}au-dropdown[open-right] dropdown-container option-item{-webkit-transform:translateX(-100%);transform:translateX(-100%)}au-dropdown dropdown-container{-webkit-box-flex:1;-webkit-flex:1 0 auto;-moz-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s;-webkit-transform-origin:center;transform-origin:center;background-color:#fff;position:absolute;top:0;height:0;z-index:1}au-dropdown dropdown-container option-item{cursor:pointer;-webkit-box-flex:1;-webkit-flex:1 0 auto;-moz-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s;-webkit-transform-origin:center;transform-origin:center;-webkit-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;-moz-justify-content:space-between;justify-content:space-between;padding-left:16px;padding-right:16px;line-height:36px;max-height:36px}au-dropdown dropdown-container option-item span{min-width:72px;margin-right:16px}au-dropdown dropdown-container option-item .au-icon{height:auto;width:auto;color:#EC2685}au-dropdown.active dropdown-container{height:auto}au-dropdown.active dropdown-container option-item{-webkit-transform:translateX(0);transform:translateX(0)}au-alert{-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-moz-align-items:center;align-items:center;font-weight:100;font-size:18px;color:#5B5B5B;line-height:18px;border:1px solid #CCC;box-shadow:0 1px 2px 0 rgba(0,0,0,.2),inset 0 1px 0 0 rgba(255,255,255,.7),inset 0 -1px 2px 0 rgba(0,0,0,.1);border-radius:4px;margin:1.5rem 16px 0;padding:0 16px 20px;text-align:center;position:relative}[color=primary],[color=primary] a,au-alert.info h4{color:#70519E}au-alert+:not(au-alert){margin-top:16px!important}au-alert+au-alert{margin-top:3rem}au-alert h4{font-family:"Source Sans Pro";font-weight:300;font-size:24px;font-style:normal;line-height:28px;margin-top:0!important;padding:0}[class-aucon]:before,[constant-aucon]:before,[function-aucon]:before,[interface-aucon]:before,au-icon.au-icon.au-checkmark i:before,au-icon.au-icon.au-ios-arrow-right i:before,au-icon.au-icon.au-navicon i:before{font-family:aIcons}au-alert p{margin:0;padding:0;line-height:23px}au-alert h4+p{margin-top:10px}au-alert .alertIcon{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-moz-align-items:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;-moz-justify-content:center;justify-content:center;background:#FFF;border:1px solid;border-radius:100%;position:relative;font-size:24px;width:46px;height:46px;margin:-23px 0 1rem;padding:0;text-align:center}au-alert.danger+au-alert.danger,au-alert.info+au-alert.info,au-alert.warning+au-alert.warning{border-top-left-radius:0;border-top-right-radius:0}au-alert .alertIcon>i{border-color:inherit;background-repeat:no-repeat;width:25px;height:25px}au-alert.info,au-alert.info .alertIcon{border-color:#BDA9DA}au-alert.info{background:#F0EDF5}au-alert.warning,au-alert.warning .alertIcon{border-color:#E6D55B}au-alert.info .alertIcon i{background-image:url('/images/alert/infoIcon.svg')}au-alert.info+au-alert.info{margin-top:-6px!important}au-alert.info+au-alert.info .alertIcon+p{margin-top:16px}au-alert.warning{background:#FCF9E4}au-alert.warning h4{color:#B9810B}au-alert.danger,au-alert.danger .alertIcon{border-color:#DFA29F}au-alert.warning .alertIcon i{background-image:url('/images/alert/warningIcon.svg')}au-alert.warning+au-alert.warning{margin-top:-6px!important}au-alert.warning+au-alert.warning .alertIcon+p{margin-top:16px}au-alert.danger{background:#F9E9E8}au-alert.danger h4{color:#A31F07}au-alert.danger .alertIcon i{background-image:url('/images/alert/dangerIcon.svg')}au-alert.danger+au-alert.danger{margin-top:-6px!important}au-settings-button,au-settings-button content-wrap{-webkit-transform:translate3d(0,0,0);border-top-left-radius:200vw}au-alert.danger+au-alert.danger .alertIcon+p{margin-top:16px}@media (min-width:48em){au-alert{padding-left:24px;padding-right:24px}}[class-aucon]:before,[constant-aucon]:before,[function-aucon]:before,[interface-aucon]:before,au-icon i:before,au-icon.au-icon i:before,au-icon.au-icon.au-checkmark i:before,au-icon.au-icon.au-ios-arrow-right i:before,au-icon.au-icon.au-navicon i:before,au-settings-button button-container button .au-icon i:before,au-settings-button.is-active button-container button .au-icon i:before{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;letter-spacing:normal;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;-webkit-font-feature-settings:'liga';font-feature-settings:'liga'}au-icon.au-icon.au-navicon i:before{content:""}au-icon.au-icon.au-ios-arrow-right i:before{content:""}au-icon.au-icon.au-checkmark i:before{content:""}ul[list-style]{list-style:none}[class-aucon],[constant-aucon],[function-aucon],[interface-aucon],ul[list-style] li{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-moz-align-items:center;align-items:center}[class-aucon]:before,[constant-aucon]:before,[function-aucon]:before,[interface-aucon]:before,ul[list-style] li:before{color:inherit;margin-right:16px}[interface-aucon]:before{content:""}[class-aucon]:before{content:""}[constant-aucon]:before{content:""}[function-aucon]:before{content:""}au-settings-button{-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;transform:translate3d(0,0,0);z-index:1;position:fixed;bottom:0;right:0;height:300px;width:300px;pointer-events:none;background:0 0}au-settings-button content-wrap{-webkit-box-align:end;-ms-flex-align:end;-webkit-align-items:flex-end;-moz-align-items:flex-end;align-items:flex-end;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;-moz-justify-content:flex-end;justify-content:flex-end;transform:translate3d(0,0,0);min-width:100vw;min-height:100vw;top:0;overflow-x:hidden!important;overflow-y:hidden!important;overflow:hidden!important;position:absolute;z-index:3}au-settings-button content-container{pointer-events:auto;bottom:120px;right:0;opacity:0;min-width:100%;outline:0;position:absolute;z-index:1}au-settings-button content-container>au-select-list au-select-item{outline:0;position:static}au-settings-button content-container>au-select-list au-select-item select-item span:focus{outline:0}au-settings-button content-container>au-select-list au-select-item select-item:active,au-settings-button content-container>au-select-list au-select-item select-item:focus{background-color:transparent;outline:0}au-settings-button content-container>au-select-list au-select-item select-item:after{content:" ";position:absolute;height:1px;max-height:1px;background:-webkit-gradient(linear,left top,right top,color-stop(0,rgba(255,255,255,0)),color-stop(100%,#777));background:-webkit-linear-gradient(left,rgba(255,255,255,0),0,#777,100%);background:linear-gradient(to right,rgba(255,255,255,0),0,#777,100%)}au-settings-button content-container>au-select-list au-select-item select-container div.select-option{background-color:#EC2685;color:#fff;outline:0;position:relative;padding-left:40%}au-settings-button content-container>au-select-list au-select-item select-container div.select-option:after{content:" ";position:absolute;height:1px;max-height:1px;background:-webkit-gradient(linear,left top,right top,color-stop(0,rgba(255,255,255,0)),color-stop(100%,#fff));background:-webkit-linear-gradient(left,rgba(255,255,255,0),0,#fff,100%);background:linear-gradient(to right,rgba(255,255,255,0),0,#fff,100%)}au-settings-button content-container>au-dropdown{-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end}au-settings-button button-container{position:absolute;bottom:0;right:0;z-index:2;pointer-events:auto;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}au-settings-button button-container button{-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-transform-origin:center;transform-origin:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;cursor:pointer;white-space:nowrap;-ms-touch-action:manipulation;touch-action:manipulation;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-moz-align-items:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;-moz-justify-content:center;justify-content:center;width:64px;height:64px;box-shadow:0 4px 6px rgba(0,0,0,.2);background-color:#777;border-radius:64px;border:none;bottom:0;color:#fff;font-size:1.5em;margin:24px;padding:0;position:relative;right:0;z-index:1}au-settings-button button-container button:active,au-settings-button button-container button:focus{box-shadow:0 2px 4px rgba(0,0,0,.2)}au-settings-button button-container button .au-icon{-webkit-box-flex:1;-webkit-flex:1;-moz-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;-moz-justify-content:center;justify-content:center;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}au-settings-button button-container button .au-icon i:before{position:relative;font-family:aIcons;content:"";-webkit-transform:translateZ(0) rotate(0);transform:translateZ(0) rotate(0);-webkit-transition:all .2s cubic-bezier(.455,.03,.515,.955);transition:all .2s cubic-bezier(.455,.03,.515,.955)}au-settings-button div.exploding-circle{position:fixed;right:-100vw;bottom:-100vw;min-width:200vw;min-height:200vw;border-radius:200vw;background-color:#fff;z-index:1;-webkit-animation-timing-function:cubic-bezier(0,1.28,0,1);animation-timing-function:cubic-bezier(0,1.28,0,1);-webkit-animation-duration:.4s;animation-duration:.4s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}au-settings-button div.exploding-circle.au-enter-active{-webkit-animation-name:open-circle;animation-name:open-circle}au-settings-button div.exploding-circle.au-leave-active{-webkit-animation-timing-function:ease;animation-timing-function:ease;-webkit-animation-name:close-circle;animation-name:close-circle}au-settings-button.is-active{-webkit-transition:box-shadow .1s ease .1s;transition:box-shadow .1s ease .1s;box-shadow:0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12),0 5px 5px -3px rgba(0,0,0,.2);height:100vw;min-width:100vw}au-settings-button.is-active content-container{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;visibility:visible;opacity:1}au-settings-button.is-active button-container button{background-color:#70519E}au-settings-button.is-active button-container button .au-icon i:before{font-family:aIcons;content:"";-webkit-transform:translateZ(0) rotate(360deg);transform:translateZ(0) rotate(360deg)}@-webkit-keyframes open-circle{from{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes open-circle{from{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes close-circle{from{-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:scale(0);transform:scale(0)}}@keyframes close-circle{from{-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:scale(0);transform:scale(0)}}@font-face{font-family:aIcons;src:url('lib/font/aicon/aicons.eot?v=2.0.0');src:url('lib/font/aicon/aicons.eot?v=2.0.0#iefix') format("embedded-opentype"),url('lib/font/aicon/aicons.ttf?v=2.0.0') format("truetype"),url('lib/font/aicon/aicons.woff?v=2.0.0') format("woff"),url('lib/font/aicon/aicons.svg?v=2.0.0#Ionicons') format("svg");font-weight:400;font-style:normal}[color=accent],[color=accent] a{color:#EC2685}[color=primary-dark],[color=primary-dark] a{color:#58407c}[color=text],[color=text] a{color:rgba(0,0,0,.87)}[color=label],[color=label] a{color:rgba(0,0,0,.38)}[color=secondary],[color=secondary] a{color:rgba(0,0,0,.54)}[trans="3"]{opacity:.3}[trans="6"]{opacity:.6}[trans="9"]{opacity:.9}[bold]{font-weight:700!important}[gutter]{padding-left:0 16px!important;padding-right:0 16px!important}[half-gutter]{padding-left:8px!important;padding-right:8px!important}[gutter="2x"]{padding-left:32px!important;padding-right:32px!important}[direction=flex-row]{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-webkit-flex-direction:row!important;-moz-flex-direction:row!important;-ms-flex-direction:row!important;flex-direction:row!important}[direction=flex-column]{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-webkit-flex-direction:column!important;-moz-flex-direction:column!important;-ms-flex-direction:column!important;flex-direction:column!important}[border-bottom]{border-bottom:1px solid rgba(0,0,0,.12);margin-bottom:8px;padding-bottom:8px}@media (min-width:48em){au-settings-button{display:none}[gutter]{padding-left:24px!important;padding-right:24px!important}[half-gutter]{padding-left:12px!important;padding-right:12px!important}[gutter="2x"]{padding-left:48px!important;padding-right:48px!important}}au-tag{-webkit-box-flex:0;-webkit-flex:0 1 auto;-moz-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;background:#fff;border:1px solid rgba(0,0,0,.12);border-radius:4px;color:gray;display:inline-block;font-size:10px;line-height:1.5;margin:0 5px;padding:2px 7px}select.au-tag{background-color:#fff;padding:4px;border-radius:2px;color:grey;border:1px solid rgba(0,0,0,.12);font-size:14px}.au-reference-list ul{font-size:14px;line-height:26px;margin-left:0;list-style:outside}.au-reference-list ul a{font-family:consolas;font-size:14px;color:#ef67a8;text-decoration:underline}.au-reference-list ul li{padding-left:6px}.au-reference-list ul.no-bullet{list-style-type:none}ul.stack-list{font-size:1em;line-height:1.5;margin-left:0;list-style:outside}ul.stack-list li a{font-weight:300;font-size:1em}ul.stack-list[no-bullet]{list-style-type:none}ul.stack-list[underline] li a{text-decoration:underline}ul.grid-list{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:0!important;position:relative}ul.grid-list>li{margin-right:auto;max-width:100%;min-width:100%;-webkit-box-flex:0;-webkit-flex:0 0 100%;-moz-flex:0 0 100%;-ms-flex:0 0 100%;flex:0 0 100%}@media (min-width:34em){ul.grid-list>li{max-width:50%;min-width:50%;-webkit-box-flex:0;-webkit-flex:0 0 50%;-moz-flex:0 0 50%;-ms-flex:0 0 50%;flex:0 0 50%}}ul.inline-list{-webkit-box-flex:1;-webkit-flex:1;-moz-flex:1;-ms-flex:1;flex:1;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-moz-align-items:center;align-items:center;list-style:none;min-width:100%;margin:.5em 0}ul.inline-list li{-webkit-box-flex:0;-webkit-flex:0 1 auto;-moz-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;margin:0 2px}ul.inline-list li[list-heading]{font-weight:800;font-size:.9em;opacity:.5}ul.inline-list li[list-heading]:after{-webkit-box-flex:1;-webkit-flex:1;-moz-flex:1;-ms-flex:1;flex:1;content:": ";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}ul.inline-list li[list-item]{font-size:.8em}ul.inline-list li[list-item]:not(:last-child):after{-webkit-box-flex:1;-webkit-flex:1;-moz-flex:1;-ms-flex:1;flex:1;content:", ";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}au-icon,au-icon.au-icon i,au-icon.au-icon i:before{font-family:aIcons!important}au-icon.au-icon{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:1.5em;font-weight:400;height:2em;width:2em;position:relative;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-moz-align-items:center;align-items:center}au-icon.au-icon[icon-auto]{width:auto;height:auto}au-icon.au-icon[icon-2x]{width:2em;height:2em}au-icon.au-icon[icon-3x]{width:3em;height:3em}au-icon.au-icon[icon-4x]{width:4em;height:4em}au-icon.au-icon[size-2x]{font-size:2em}au-icon.au-icon[size-3x]{font-size:3em}au-icon.au-icon[size-4x]{font-size:4em}au-icon.au-icon[fit]{width:100%;height:100%}au-icon.au-icon[fit-x]{width:100%}au-icon.au-icon[fit-y]{height:100%}au-icon.au-icon[align-left]{-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;justify-content:flex-start}au-icon.au-icon[align-right]{-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;-moz-justify-content:flex-end;justify-content:flex-end}au-icon.au-icon[align-center]{-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;-moz-justify-content:center;justify-content:center}au-icon.au-icon[align-top]{-webkit-box-align:start;-ms-flex-align:start;-webkit-align-items:flex-start;-moz-align-items:flex-start;align-items:flex-start}au-icon.au-icon[align-middle]{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-moz-align-items:center;align-items:center}au-icon.au-icon[align-bottom]{-webkit-box-align:end;-ms-flex-align:end;-webkit-align-items:flex-end;-moz-align-items:flex-end;align-items:flex-end}a.au-button,button.au-button{background-color:transparent;border-radius:4px;border:1px solid #70519E;color:#70519E;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);display:inline-block;margin:0 2px;font-size:12px;padding:8px 12px}a.au-button:hover,button.au-button:hover{background:#7d519e;color:#fff}
</style>
<au-preview>
    <au-doc-section>
<h2 id="-introduction-aurelia-doc-section-1-version-1-0-0-"><a href="aurelia-doc://section/1/version/1.0.0">Introduction</a></h2>
<p>Most of the current major browsers limit the number of simultaneous connections per hostname to six. This means that while six requests are being processed, additional requests for assets on a host will be queued by the browser. In the image below, the Chrome F12 developer tools network tab shows the timing for assets required by the <code>welcome view</code> of the skeleton-navigation application.</p>
<p><img src="img/unbundled-aurelia-application.jpg" alt="No of requests made by unbundled application"></p>
<p>As we can see, there are over 95 requests being made to load the first view. While the first few requests are being processed the others are waiting, ultimately taking almost 2.39s on a local machine.</p>
<p>In the past, the most common browser limit has been 2 connections. This may have been sufficient in the beginning of the web when most of the content was delivered in a single page load. However, it can soon become the bottleneck when building rich client applications with frameworks like Aurelia and others.</p>
<p>You may wonder: If this limit can have such a great impact on performance, then why don&#39;t browsers give us a higher limit? Most well-known browsers choose not to grant this wish in order to prevent the server from being overloaded by a small number of browsers. Such activity would be similar in nature to a DDOS attack.</p>
<h2 id="-bundling-minification-aurelia-doc-section-2-version-1-0-0-"><a href="aurelia-doc://section/2/version/1.0.0">Bundling &amp; Minification</a></h2>
<p>This connection limit will not cause slowness in our application if we can manage resources well enough to avoid it. When the page is first loaded, this is the initial request that returns HTML content. When the browser processes the HTML content, it spawns more requests to load resources like JS, CSS and images. It also executes JavaScript and sends AJAX requests to the server.</p>
<p>To make this process efficient, we need to compress the assets and make fewer (possibly less than 6) requests to load everything we need. Fortunately, static resources can be cached and only downloaded the first time. If they cause slowness, it happens on the first page load only and may be tolerable.</p>
<p>Bundling along with minification are techniques that can also be used to improve load time. Bundling and minification improve load time by reducing the number of requests to the server as well as reducing the size of requested assets such as views, view-models and CSS.</p>
<h2 id="-bundling-an-aurelia-application-aurelia-doc-section-3-version-1-0-0-"><a href="aurelia-doc://section/3/version/1.0.0">Bundling an Aurelia Application</a></h2>
<p>We can  use <a href="http://github.com/aurelia/bundler">Aurelia Bundler</a> to create a gulp task for bundling our app. Let&#39;s jump right into it. We will use the <code>skeleton-navigation</code> as our app to bundle. If you don&#39;t have that set up. Follow <a href="https://github.com/aurelia/skeleton-navigation#running-the-app">these steps</a>.</p>
<p>Now that we have our app running, let&#39;s start by installing <code>aurelia-bundler</code>. To do so <code>cd</code> into <code>skeleton-navigation</code> and run the following command:</p>
<pre><code class="lang-shell">npm <span class="hljs-keyword">install </span>aurelia-<span class="hljs-keyword">bundler </span>--save-dev
</code></pre>
<p>Now, let&#39;s create a <code>bundle.js</code> file in <code>build/tasks/bundle.js</code> as follows:</p>
<p><code-listing heading="bundle.js">
  <source-code lang="JavaScript">
    var gulp = require(&#39;gulp&#39;);
    var bundle = require(&#39;aurelia-bundler&#39;).bundle;</p>
<pre><code>var config = {
  force: <span class="hljs-keyword">true</span>,
  baseURL: <span class="hljs-string">'.'</span>,                   <span class="hljs-comment">// baseURL of the application</span>
  configPath: <span class="hljs-string">'./config.js'</span>,      <span class="hljs-comment">// config.js file. Must be within `baseURL`</span>
  bundles: {
    <span class="hljs-string">"dist/app-build"</span>: {           <span class="hljs-comment">// bundle name/path. Must be within `baseURL`. Final path is: `baseURL/dist/app-build.js`.</span>
      <span class="hljs-keyword">includes</span>: [
        <span class="hljs-string">'[*.js]'</span>,
        <span class="hljs-string">'*.html!text'</span>,
        <span class="hljs-string">'*.css!text'</span>,        
      ],
      <span class="hljs-keyword">options</span>: {
        <span class="hljs-keyword">inject</span>: <span class="hljs-keyword">true</span>,
        minify: <span class="hljs-keyword">true</span>
      }
    },
    <span class="hljs-string">"dist/vendor-build"</span>: {
      <span class="hljs-keyword">includes</span>: [
        <span class="hljs-string">'aurelia-bootstrapper'</span>,
        <span class="hljs-string">'aurelia-fetch-client'</span>,
        <span class="hljs-string">'aurelia-router'</span>,
        <span class="hljs-string">'aurelia-animator-css'</span>,
        <span class="hljs-string">'github:aurelia/templating-binding'</span>,
        <span class="hljs-string">'github:aurelia/templating-resources'</span>,
        <span class="hljs-string">'github:aurelia/templating-router'</span>,
        <span class="hljs-string">'github:aurelia/loader-default'</span>,
        <span class="hljs-string">'github:aurelia/history-browser'</span>,
        <span class="hljs-string">'github:aurelia/logging-console'</span>,
        <span class="hljs-string">'bootstrap/css/bootstrap.css!text'</span>
      ],
      <span class="hljs-keyword">options</span>: {
        <span class="hljs-keyword">inject</span>: <span class="hljs-keyword">true</span>,
        minify: <span class="hljs-keyword">true</span>
      }
    }
  }
};

gulp.<span class="hljs-keyword">task</span>(<span class="hljs-string">'bundle'</span>, function() {
  <span class="hljs-keyword">return</span> bundle(config);
});
</code></pre><p>  </source-code>
</code-listing></p>
<blockquote>
<p>Info
The bundle function returns a Promise for proper integration into async task engines like Gulp.</p>
</blockquote>
<p>With that file in place, let&#39;s run the command bellow:</p>
<pre><code class="lang-shell"><span class="hljs-attribute">gulp</span> bundle
</code></pre>
<p>Here are the things that should have happened after Gulp is finished executing the bundle task:</p>
<ul>
<li>A file, <code>dist/app-build.js</code> is created.</li>
<li>A file, <code>dist/vendor-build.js</code> is created.</li>
<li><code>config.js</code> is updated.</li>
</ul>
<p>Now, if we refresh/reload the app from the browser, we will see much less network traffic. This means that our app is properly bundled.</p>
<p><img src="img/bundled-aurelia-application.jpg" alt="No of requests made by bundled application"></p>
<p>Just 9 requests tells the story. We have also managed to minimize the size from 1.2MB to just 773KB here.</p>
<h2 id="-multiple-bundles-aurelia-doc-section-4-version-1-0-0-"><a href="aurelia-doc://section/4/version/1.0.0">Multiple Bundles</a></h2>
<p>We can create as many bundles as we want. Here we have created two: one for our application code and another for Aurelia and third-party libraries.</p>
<p>We can create just a single bundle, if we want, that combines both application code and third-party libraries. The number of bundles we would like to have mostly depends on our application structure and the usage patterns of our app. For example, if our app was built in a modular fashion, such that it is a collection of child-app/sections, then a <code>common</code> bundle for third-party libraries and a <code>bundle per section</code> makes much more sense and performs better than a huge single bundle that needs to be loaded up front.</p>
<h2 id="-duplicate-modules-in-multiple-bundles-aurelia-doc-section-5-version-1-0-0-"><a href="aurelia-doc://section/5/version/1.0.0">Duplicate Modules in Multiple Bundles</a></h2>
<p>Creating multiple bundles requires us to be extra careful because multiple bundles may contain duplicate modules. Before explaining that, we need to understand how bundling works behind the scenes a bit. Let&#39;s consider the example modules <code>A</code> and <code>B</code> below:</p>
<p><code-listing heading="a.js">
  <source-code lang="JavaScript">
    import b from &#39;./b&#39;;
    console.log(&#39;Hi, I am module A&#39;);
  </source-code>
</code-listing></p>
<p><code-listing heading="b.js">
  <source-code lang="JavaScript">
    console.log(&#39;Hi, I am module B&#39;);
  </source-code>
</code-listing></p>
<p>When we want to bundle <code>a.js</code>, the bundler will analyze the source code of the module and find the dependencies by tracing the <code>import</code> statements. In this case, the bundler will yield <code>b.js</code> as the dependency of <code>a.js</code> and ultimately place <code>b.js</code> in the bundle.</p>
<p>Let us now take a closer look at the <code>config</code> object. We will skip <code>force</code> and <code>packagePath</code> for the moment. <code>bundles</code> is where we will focus now, specifically the <code>includes</code>.</p>
<p><code-listing heading="Includes">
  <source-code lang="JavaScript">
    bundles: {
      &quot;dist/app-build&quot;: {
        includes: [
          &#39;[<em>.js]&#39;,
          &#39;</em>.html!text&#39;,
          &#39;*.css!text&#39;,<br>        ],
  </source-code>
</code-listing></p>
<p>Please pay attention to the pattern <code>[*.js]</code>. The bundler supports some glob patterns like <code>*.js</code>, <code>*/**/*.js</code> etc. <code>*.js</code> here means, we are interested in bundling all the <code>js</code> assets in the <code>dist</code> folder (considering the <code>path</code> in <code>config.js</code>). So what does <code>[*.js]</code> mean here? Well, as we know, the bundler will trace the module dependencies from the import statements. Lot&#39;s of our code refers to the modules of <code>Aurelia</code> via <code>import</code> statements. For example:</p>
<p><code-listing heading="users.js">
  <source-code lang="JavaScript">
    import {inject} from &#39;aurelia-framework&#39;;
    import {HttpClient} from &#39;aurelia-fetch-client&#39;;
    import &#39;fetch&#39;;</p>
<pre><code><span class="hljs-meta">@inject</span>(HttpClient)
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Users</span></span>{
  heading = <span class="hljs-string">'Github Users'</span>;
  users = [];

  constructor(http){
    http.configure(config =&gt; {
      config
        .useStandardConfiguration()
        .withBaseUrl(<span class="hljs-string">'https://api.github.com/'</span>);
    });

    <span class="hljs-keyword">this</span>.http = http;
  }

  activate(){
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.http.fetch(<span class="hljs-string">'users'</span>)
      .then(response =&gt; response.json())
      .then(users =&gt; <span class="hljs-keyword">this</span>.users = users);
  }
}
</code></pre><p>  </source-code>
</code-listing></p>
<p>When the bundler analyzes this file it will find <code>aurelia-framework</code> and <code>aurelia-fetch-client</code> as it&#39;s dependencies and include them in the bundle. But the bundler does not stop there. It will recursively find the dependencies of <code>aurelia-framework</code> and <code>aurelia-fetch-client</code> and will go on until there is nothing left.</p>
<p><code-listing heading="Includes">
  <source-code lang="JavaScript">
    bundles: {
      &quot;dist/app-build&quot;: {
        includes: [
          &#39;<em>.js&#39;,
          &#39;</em>.html!text&#39;,
          &#39;*.css!text&#39;,<br>        ],
  </source-code>
</code-listing></p>
<p>Having <code>*.js</code> in the above config will create a bundle containing lots of <code>Aurelia</code> libraries including <code>aurelia-framework</code> and <code>aurelia-fetch-client</code>. If we consider the second bundle config <code>dist/vendor-build</code>, we have &#39;aurelia-bootstrapper&#39; and &#39;aurelia-fetch-client&#39;. <code>aurelia-bootstrapper</code> will yield <code>aurelia-framework</code>. Ultimately, we will end up with duplicate modules in both the bundles.</p>
<p>Our goal is to create a bundle of our application code only. We have to somehow instruct the bundler not to recursively trace the dependencies. Guess what? <code>[*.js]</code> is how we do it.   </p>
<p><code>[*.js]</code> will exclude the dependencies of each module that the glob pattern <code>*.js</code> yields. In the above case it will exclude <code>aurelia-framework</code>, <code>aurelia-fetch-client</code> and so on.</p>
<h2 id="-bundle-configuration-aurelia-doc-section-6-version-1-0-0-"><a href="aurelia-doc://section/6/version/1.0.0">Bundle Configuration</a></h2>
<p>Here is a typical bundle configuration in all its glory:</p>
<p><code-listing heading="Typical Bundle Configuration">
  <source-code lang="JavaScript">
    &quot;dist/app-build&quot;: {
      includes: [
        &#39;[<em>.js]&#39;,
        &#39;</em>.html!text&#39;,
        &#39;*.css!text&#39;,
        &#39;bootstrap/css/bootstrap.css!text&#39;
      ],
      excludes: [
        &#39;npm:core-js&#39;,
        &#39;github:jspm/nodelibs-process&#39;
      ],
      options: {
        inject: true,
        minify: true,
        rev: true
      }
    }
  </source-code>
</code-listing></p>
<ul>
<li><strong>dist/app-build</strong> : This is the name of the bundle and also where the bundle file will be placed. The name of the bundle file will be <code>app-build.js</code>. As the <code>baseURL</code> for <code>skeleton-navigation</code> pointed to <code>dist</code> folder, we named it <code>dist/app-build</code>.</li>
<li><strong>includes</strong> : We will specify all the modules/files that we want to include here. Since all our JavaScript is in the <code>dist</code> folder and we have the <code>path</code> rule configured in <code>config.js</code> that points to the <code>dist</code> folder. If we simply specify <code>*</code> all our <code>js</code> modules will be included. We can specify <code>*/**/*</code> here if we want to include all the subfolders.</li>
<li><strong><code>*.html!text</code></strong>: This includes all the templates/views in the bundle. The <code>!text</code> tells the Bundler and Loader that these files will be bundled and loaded using the <code>text</code> plugin.   </li>
<li><strong><code>*.css!text</code></strong>: Like html templates, we are including all the css here. If you have previously used <code>plugin-css</code>, note that we are not using <code>!css</code> here. The Aurelia Loader uses <code>text</code> plugin for loading css to analyze and do other interesting things like <code>scoping</code> etc.</li>
<li><strong>excludes</strong>: This is where we specify what we want to exclude from the bundle. For example, <code>*</code> includes all the JS files in the <code>dist</code> folder. For example, if for some reason we want <code>app.js</code> to be excluded from the bundle, we would write:</li>
</ul>
<p><code-listing heading="Excludes">
  <source-code lang="JavaScript">
    excludes : [
       &#39;app&#39;,
    ]
  </source-code>
</code-listing></p>
<ul>
<li><strong>inject</strong>: If set to <code>true</code>, this will inject the bundle in <code>config.js</code>, so whenever the application needs a file within that bundle, the loader will load the entire bundle the first time. This is how we can achieve lazy bundle loading. For a large app with multiple sub sections, this will help us avoid loading everything upfront.</li>
<li><strong>minify</strong>: As the name suggests, if this is set to <code>true</code>, the the source files will be minified as well.</li>
<li><strong>rev</strong>: If this is set to <code>true</code>, an unique revision number will be appended to the bundle file name.</li>
<li><strong>force</strong> : If this is set to <code>true</code> the task will overwrite any existing file/bundle with the same name. Set it to false if you are not sure about it.</li>
<li><strong>packagePath</strong> : By default it is <code>&#39;.&#39;</code>, You can change this if your <code>package.json</code> file is somewhere else other than the base of your app. <code>aurelia-bundler</code> uses this file to find <code>config.js</code>, <code>baseURL</code>, the <code>jspm_packages</code> folder and other important project configuration.</li>
</ul>
<h2 id="-bundling-html-imports-aurelia-doc-section-7-version-1-0-0-"><a href="aurelia-doc://section/7/version/1.0.0">Bundling HTML Imports</a></h2>
<p>At this point, if you are thinking: &quot;Well, this is all good but we have already developed an application that uses Polymer and  <code>HTML Imports</code> extensively. We want to bundle them as well.&quot; As you may already know, we have created a separate plugin <a href="https://github.com/aurelia/html-import-template-loader">aurelia-html-import-template-loader</a> exclusively for this use case. We have bundling support for that too. This is how we can do it. It&#39;s actually a two part process. First let&#39;s install the <code>aurelia-html-import-template-loader</code> plugin with the command below:</p>
<pre><code class="lang-shell"> jspm <span class="hljs-keyword">install</span> aurelia-html-<span class="hljs-keyword">import</span>-<span class="hljs-keyword">template</span>-loader
</code></pre>
<p>Now, let&#39;s open <code>src/main.js</code> and add this line:</p>
<pre><code class="lang-javascript">aurelia<span class="hljs-selector-class">.use</span><span class="hljs-selector-class">.plugin</span>(<span class="hljs-string">'aurelia-html-import-template-loader'</span>)
</code></pre>
<p>After the change <code>main.js</code> should look like this:</p>
<p><code-listing heading="main.js">
  <source-code lang="JavaScript">
    import &#39;bootstrap&#39;;</p>
<pre><code>export function configure(aurelia) {
  aurelia.use
    .standardConfiguration<span class="hljs-literal">()</span>
    .developmentLogging<span class="hljs-literal">()</span>;

  aurelia.use.plugin(<span class="hljs-symbol">'aurelia</span>-html-import-template-loader')

  aurelia.start<span class="hljs-literal">()</span>.<span class="hljs-keyword">then</span>(a =&gt; a.setRoot<span class="hljs-literal">()</span>);
}
</code></pre><p>  </source-code>
</code-listing></p>
<p>With this little change Aurelia Loader will now use <code>HTML Imports</code> to load all the views. Now, back in our bundle task, we will add a <code>config</code> like this:</p>
<p><code-listing heading="HTML Import Config">
  <source-code lang="JavaScript">
    &quot;dist/view-bundle&quot;: {
      htmlimports: true,
      includes: &#39;dist/*.html&#39;,
      options: {
        inject: {
          indexFile : &#39;index.html&#39;,
          destFile : &#39;dest_index.html&#39;,
        }
      }
    }
  </source-code>
</code-listing></p>
<p>We will also change the first bundle a little bit to exclude all the <code>html</code> and <code>css</code> files. Finally our <code>bundle.js</code> file should look like this:</p>
<p><code-listing heading="Full HTML Import Bundle Config">
  <source-code lang="JavaScript">
    var gulp = require(&#39;gulp&#39;);
    var bundle = require(&#39;aurelia-bundler&#39;).bundle;</p>
<pre><code>var config = {
  force: <span class="hljs-literal">true</span>,
  packagePath: <span class="hljs-string">'.'</span>,
  bundles: {
    <span class="hljs-string">"dist/app-build"</span>: {
      includes: [
        <span class="hljs-string">'[*.js]'</span>
      ],
      options: {
        inject: <span class="hljs-literal">true</span>,
        minify: <span class="hljs-literal">true</span>
      }
    },
    <span class="hljs-string">"dist/aurelia"</span>: {
      includes: [
        <span class="hljs-symbol">'aurelia</span>-bootstrapper',
        <span class="hljs-symbol">'aurelia</span>-fetch-client',
        <span class="hljs-symbol">'aurelia</span>-router',
        <span class="hljs-symbol">'aurelia</span>-animator-css',
        <span class="hljs-symbol">'github</span>:aurelia/templating-binding',
        <span class="hljs-symbol">'github</span>:aurelia/templating-resources',
        <span class="hljs-symbol">'github</span>:aurelia/templating-router',
        <span class="hljs-symbol">'github</span>:aurelia/loader-default',
        <span class="hljs-symbol">'github</span>:aurelia/history-browser',
        <span class="hljs-symbol">'github</span>:aurelia/logging-console'
      ],
      options: {
        inject: <span class="hljs-literal">true</span>,
        minify: <span class="hljs-literal">true</span>
      }
    },
    <span class="hljs-string">"dist/view-bundle"</span>: {
      htmlimport: <span class="hljs-literal">true</span>,
      includes: <span class="hljs-symbol">'dist</span>/*.html',
      options: {
        inject: {
          indexFile : <span class="hljs-symbol">'index</span>.html',
          destFile : <span class="hljs-symbol">'dest_index</span>.html'
        }
      }
    }
  }
};
</code></pre><p>  </source-code>
</code-listing></p>
<p>We have changed the source code (src/main.js), so we need to rebuild our app. The command below should do that:</p>
<pre><code class="lang-shell"> <span class="hljs-attribute">gulp</span> serve
</code></pre>
<blockquote>
<p>Info
The <code>serve</code> task is already configured in such a way that it runs the <code>build</code> task first.</p>
</blockquote>
<p>Now, let&#39;s run <code>gulp bundle</code> from another console/tab. If we now refresh/reload our app from the browser, keeping the developer tools open, we should see the difference.</p>
<blockquote>
<p>Warning
The order in which the tasks are run is important. The <code>build</code> removes all the files in <code>dist</code> folder. As a result, any bundle file in that folder will be deleted too. This is why we always have to run the <code>gulp bundle</code> after the <code>build</code> task is finished. If you are using <code>watch</code> you will have to be extra careful here. Every change you make in the source file will trigger a <code>build</code> task that clears the <code>dist</code> folder and any bundles as well.</p>
</blockquote>
<p>Let&#39;s examine the configuration one property at a time:</p>
<ul>
<li><strong>dist/view-bundle</strong> : The name of the bundle file is <code>view-bundle.html</code> and will be placed in <code>dist</code> folder.</li>
<li><strong>htmlimport</strong> : This is what makes it different from other bundles. If this is set to <code>true</code> the bundler will treat it as a html import based bundle and Aurelia loader will give it a different treatment as well.</li>
<li><strong>includes</strong>: This is where we will specify what goes in the bundle. All the glob patterns are supported here including arrays of patterns and <code>!</code> based exclusion. For example:</li>
</ul>
<p><code-listing heading="Glob Patterns">
  <source-code lang="JavaScript">
    includes : [&#39;dist/<em>*/</em>.html&#39;, &#39;!dist/movie/*.html&#39;]
  </source-code>
</code-listing></p>
<p>The above pattern will bundle all the views in <code>dist</code> and its child folders except everything in the <code>dist/movie</code> folder.</p>
<ul>
<li><strong>options</strong> : if <code>inject</code> is set to <code>true</code> then a <code>&lt;link rel=&quot;import&quot; href=&quot;path/of/bundle.html&quot; &gt;</code> will be injected in the body of <code>index.html</code>. If you would like to keep your <code>index.html</code> clean and create a separate index file then you have to set <code>indexFile</code> and <code>destFile</code>.</li>
</ul>
<p><code-listing heading="HTML Import Injection Options">
  <source-code lang="JavaScript">
    indexFile: &#39;index.html&#39;,
    destFile : &#39;dest_index.html&#39;
  </source-code>
</code-listing></p>
<h2 id="-conclusion-aurelia-doc-section-8-version-1-0-0-"><a href="aurelia-doc://section/8/version/1.0.0">Conclusion</a></h2>
<p>In this article, you&#39;ve learned both the why and how of bundling. We&#39;ve covered the <code>bundler</code> library, how to configure it for use with Gulp and demonstrated several different scenarios. To bundle your own app, we recommend that you begin with one of the configurations above and customize it. You may have a small app that makes sense as a single bundle or a larger one that can be broken down into features. Each application is different, but the bundler will help you to create the optimal deployment for your unique scenarios.</p>
    </au-doc-section>
</au-preview>